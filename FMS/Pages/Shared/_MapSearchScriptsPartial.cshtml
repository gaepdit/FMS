@inject Microsoft.Extensions.Configuration.IConfiguration Configuration
<script src="~/js/map.js"></script>
<script type="text/javascript" src="https://maps.googleapis.com/maps/api/js?key=@Configuration["GoogleMapSettings:ApiKey"]"></script>
<script src="https://code.jquery.com/jquery-1.11.2.min.js"></script>

<script type="text/javascript">

    var bool = true;
    $(document).ready(function domReady() {
        $("#Address").change(function () {
            if ($(this).val() != "") {
                $("#Latitude").attr("disabled", true);
                $("#Longitude").attr("disabled", true);
                $("#Longitude").val("");
                $("#Latitude").val("");
            } else {
                $("#Latitude").attr("disabled", false);
                $("#Longitude").attr("disabled", false);
            }
        });
        $("#City").change(function () {
            if ($(this).val() != "") {
                $("#Latitude").attr("disabled", true);
                $("#Longitude").attr("disabled", true);
                $("#Longitude").val("");
                $("#Latitude").val("");
            } else {
                $("#Latitude").attr("disabled", false);
                $("#Longitude").attr("disabled", false);
            }
        });
        $("#PostalCode").change(function () {
            if ($(this).val() != "") {
                $("#Latitude").attr("disabled", true);
                $("#Longitude").attr("disabled", true);
                $("#Longitude").val("");
                $("#Latitude").val("");
            } else {
                $("#Latitude").attr("disabled", false);
                $("#Longitude").attr("disabled", false);
            }
        });
        $("#Latitude").change(function () {
            if ($(this).val() != "") {
                $("#Address").attr("disabled", true);
                $("#City").attr("disabled", true);
                $("#PostalCode").attr("disabled", true);
                $("#Address").val("");
                $("#City").val("");
                $("#PostalCode").val("");
            } else {
                $("#Address").attr("disabled", false);
                $("#City").attr("disabled", false);
                $("#PostalCode").attr("disabled", false);
            }
        });
        $("#Longitude").change(function () {
            if ($(this).val() != "") {
                $("#Address").attr("disabled", true);
                $("#City").attr("disabled", true);
                $("#PostalCode").attr("disabled", true);
                $("#Address").val("");
                $("#City").val("");
                $("#PostalCode").val("");
            } else {
                $("#Address").attr("disabled", false);
                $("#City").attr("disabled", false);
                $("#PostalCode").attr("disabled", false);
            }
        });

        $('#Search').click(function OnSearchSubmit() {
            var output = $('#Output').val();
            var lat = $('#Latitude').val();
            var lng = $('#Longitude').val();
            //debugger;
            if (lat != "" && lng != "") {
                return true;
            }
            if (output != "" && (output == "1" || output == "2" )) {
                if (bool == false) {
                    bool = true;
                    return true;
                }
                //TO DO: Need to vomment in UAT/Production
               // var lat = 34.101318; // $('#Latitude').val();
                //var lng = -84.519379; //$('#Longitude').val();
                //$('#LocalLat').val(parseFloat(lat).toFixed(4));
               // $('#LocalLng').val(parseFloat(lng).toFixed(4));

                var addr = $('#Address').val();
                var city = $('#City').val();
                var zip = $('#PostalCode').val();

                getLatLongs(addr, city, zip);

                if (bool) {
                    bool = false;
                    return false;
                }
                else {
                    bool = true;
                }
            }
        });
        var outputvalue = @Html.Raw(Json.Serialize(@Model.ShowMap));
        var output = $('#Output').val();
        if (outputvalue) {
        var markers = @Html.Raw(Json.Serialize(@Model.FacilityList));
           // debugger;
            if (markers != "" && markers.length > 0)
            {
                var lat = $('#Latitude').val();
                var lng = $('#Longitude').val();
                if (lat == "" || lng == "")
                {
                    var lat = $('#LocalLat').val();
                    var lng = $('#LocalLng').val();
                }                
                var radius = $('#Radius').val();
                mapInitialize(lat, lng, radius, markers);
            }
        }


    });



</script>
