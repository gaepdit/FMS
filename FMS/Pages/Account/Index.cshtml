@page
@using FMS.Domain.Entities.Users
@model FMS.Pages.Account.IndexModel
@{
    ViewData["Title"] = "Account Profile";
}

<h1>@ViewData["Title"]</h1>

<div class="container">
    <div class="row my-3">
        <div class="mr-2">
            <img src="https://www.gravatar.com/avatar/@Model.Email.MD5Hash()?s=128&r=pg&d=identicon" class="img-thumbnail" alt="Account image" />
        </div>
        <div>
            <h2>@Model.DisplayName</h2>
            <p>@Model.Email</p>
            @if (Model.Roles != null && Model.Roles.Count > 0)
            {
                <h3>Roles</h3>
                <dl>
                    @foreach (var role in Model.Roles)
                    {
                        <dt>@UserRoles.DisplayName(role)</dt>
                        <dd>
                            <small class="text-muted">@UserRoles.Description(role)</small>
                        </dd>
                    }
                </dl>
            }
            <form asp-page="./Logout" asp-route-returnUrl="@Url.Page("/")" method="post">
                <button type="submit" class="btn btn-danger">Sign out</button>
            </form>
        </div>
    </div>
</div>